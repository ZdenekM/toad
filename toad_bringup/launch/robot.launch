<?xml version="1.0"?>
<launch>

  <!-- send table.xml to param server -->
  <include file="$(find toad_description)/launch/upload.launch" />

  <!-- publish TFs for static links -->
  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">

    <param name="publish_frequency" type="double" value="30.0"/>
    <param name="tf_prefix" type="string" value=""/>
 
  </node>

  <!-- check what's doing this... -->
	<node pkg="p2os_urdf" type="publisher" name="publisher"/>

	<!-- run p2os to control the pioneer -->
	<node pkg="p2os_driver" type="p2os_driver" name="p2os" output="screen">
	  <param name="port" value="/dev/ttyUSB0" type="string"/>
	  <param name="max_xspeed" value="0.5" type="double"/>
	  <param name="max_yawspeed" value="0.5" type="double"/>
	  <param name="max_xaccel" value="0.5" type="double"/>
	  <param name="max_xdecel" value="10.0" type="double"/>
	  <param name="max_yawaccel" value="0.5" type="double"/>
	  <param name="max_yawdecel" value="10.0" type="double"/>
	  <param name="publish_tf" value="false"/>
	  <remap from="pose" to="odom"/>
	</node>
	
	<!-- Stereo (nodes) -->
	<include file="$(find toad_stereo)/launch/stereo_nodes.launch" />
	
	<!-- Microstrain IMU -->
	<include file="$(find microstrain_3dm_gx3_45)/launch/imu.launch" />
	
	<!-- robot_pose_ekf -->
	<!--include file="$(find toad_bringup)/launch/robot_pose_ekf.xml" /-->
	<include file="$(find toad_bringup)/launch/laser_scan_matcher.xml" />
	
	<!-- Velodyne driver -->
	<include file="$(find but_velodyne)/launch/velodyne.launch" />
	
	<!-- Velodyne cloud2scan -->
	<include file="$(find but_velodyne)/launch/laserscan_node.launch" />
	
</launch>
