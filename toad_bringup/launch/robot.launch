<?xml version="1.0"?>
<launch>

  <!-- send table.xml to param server -->
  <param name="robot_description" command="$(find xacro)/xacro.py $(find p2os_urdf)/defs/pioneer3at.xacro" />

  <!-- publish TFs for static links -->
  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">

    <param name="publish_frequency" type="double" value="30.0"/>
    <param name="tf_prefix" type="string" value=""/>
 
  </node>

  <!-- check what's doing this... -->
	<node pkg="p2os_urdf" type="publisher" name="publisher"/>

	<!-- run p2os to control the pioneer -->
	<node pkg="p2os_driver" type="p2os" name="p2os" output="screen">
	  <param name="port" value="/dev/ttyUSB0" type="string"/>
	  <param name="max_xspeed" value="0.2" type="double"/>
	  <param name="max_yawspeed" value="0.2" type="double"/>
	  <param name="max_xaccel" value="0.5" type="double"/>
	  <param name="max_xdecel" value="0.5" type="double"/>
	  <param name="max_yawaccel" value="0.5" type="double"/>
	  <param name="max_yawdecel" value="0.5" type="double"/>
	</node>
	
	<!-- robot_pose_ekf -->
	<include file="$(find toad_bringup)/launch/robot_pose_ekf.xml" />
	
</launch>
